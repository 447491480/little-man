<div id="biz_goods_list_panel">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
        <legend>商品列表</legend>
    </fieldset>

    <blockquote class="layui-elem-quote">
        <div>
            <button class="layui-btn layui-btn-small"><i class="layui-icon">&#xe608;</i> 新增</button>
        </div>
    </blockquote>

    <div class="layui-tab layui-tab-brief" lay-filter="goods_enable_filter">
        <ul class="layui-tab-title">
            <li data-status="-1" class="layui-this">全部</li>
            <li data-status="0">已上架</li>
            <li data-status="1">已下架</li>
        </ul>
        <div class="layui-tab-content"></div>
    </div>

    <div style="margin-top: 10px;">
        <table id="biz_goods_list_grid" class="jqgrid-table"></table>
        <div id="biz_goods_list_grid_pager"></div>
    </div>
</div>

<div id="biz_goods_edit_panel" style="display: none;">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
        <legend>新增/修改商品</legend>
    </fieldset>

    <blockquote class="layui-elem-quote">
        <div>
            <button class="layui-btn layui-btn-small"><i class="layui-icon">&#xe603;</i> 返回商品列表</button>
        </div>
    </blockquote>

    <form class="layui-form layui-form-pane" action="javascript:;">
        <div class="layui-form-item">
            <label class="layui-form-label">商品名称</label>
            <div class="layui-input-inline">
                <input type="text" lay-verify="required" name="GoodsTitle" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">商品简称</label>
            <div class="layui-input-inline">
                <input type="text" name="GoodsShortTitle" autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">商品原价</label>
            <div class="layui-input-inline">
                <input type="number" lay-verify="price" name="GoodsOriginalPrice" autocomplete="off"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">商品售价</label>
            <div class="layui-input-inline">
                <input type="number" lay-verify="price" name="GoodsSalePrice" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">商品供货价</label>
            <div class="layui-input-inline">
                <input type="number" lay-verify="price" name="GoodsSupplyPrice" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label">数量限制</label>
                <div class="layui-input-inline" style="width: 100px;">
                    <input type="number" lay-verify="number" name="LimitCount" placeholder="" autocomplete="off"
                           class="layui-input">
                </div>
                <div class="layui-form-mid">-</div>
                <div class="layui-input-inline" style="width: 100px;">
                    <input type="number" lay-verify="number" name="MaxCount" placeholder="" autocomplete="off"
                           class="layui-input">
                </div>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">商品品牌</label>
            <div class="layui-input-inline">
                <select name="BrandId">
                    <option></option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">商品分类</label>
            <div class="layui-input-inline">
                <select name="CategoryId">
                    <option></option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">我的分类</label>
            <div class="layui-input-inline">
                <select name="MyCategoryId">

                </select>
            </div>
        </div>

        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">商品缩略图</label>

            <div style="border-right: 1px solid #e6e6e6;border-left: 1px solid #e6e6e6;border-bottom: 1px solid #e6e6e6;">
                <img style="width: 100px;height: 100px;border: 1px solid silver;margin: 5px;"
                     src="" id="GoodsImage">
                <input type="file" name="file" class="layui-upload-file" lay-title="点击上传" id="GoodsImageBtn">
            </div>
        </div>

        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">商品详情图</label>
            <div style="border-right: 1px solid #e6e6e6;border-left: 1px solid #e6e6e6;border-bottom: 1px solid #e6e6e6;">
                <div class="goods-detail-main">

                </div>

                <div style="padding: 5px;clear: both;">
                    <input type="file" name="file" class="layui-upload-file" lay-title="点击上传" id="GoodsDetailImages">
                </div>
            </div>
        </div>

        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">商品描述</label>
            <div class="layui-input-block">
                <textarea class="layui-textarea layui-hide" lay-verify="goods_detail_content" id="goods_detail_content_editor"></textarea>
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit="" lay-filter="biz_goods_edit_confirm" onclick="return false">
                    立即提交
                </button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
    </form>
</div>

<div id="biz_goods_select_panel" style="display: none;">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
        <legend>上级商品列表</legend>
    </fieldset>

    <blockquote class="layui-elem-quote">
        <div>
            <button class="layui-btn layui-btn-small"><i class="layui-icon">&#xe603;</i> 返回商品列表</button>
        </div>
    </blockquote>

    <div style="margin-top: 10px;">
        <table id="biz_goods_select_list_grid" class="jqgrid-table"></table>
        <div id="biz_goods_select_list_grid_pager"></div>
    </div>

    <div style="margin-top: 10px;">
        <button class="layui-btn" onclick="return false">立即提交</button>
    </div>
</div>

<style type="text/css">
    .goods-detail-main {
        width: 80%;
    }

    .goods-detail-item {
        display: inline-block;
        margin: 5px;
    }

    .goods-detail-item img {
        width: 100px;
        height: 100px;
        border: 1px solid silver;
    }

    .goods-detail-item span {
        position: relative;
        left: -100px;
        top: -36px;
    }

    .goods-detail-item span:hover {
        cursor: pointer;
    }
</style>

<script type="text/javascript">
    layui.use(['commonUtil', 'form', 'ajaxUtil', 'upload', 'element','layedit'], function () {
        var commonUtil = layui.commonUtil;
        var form = layui.form();
        var ajaxUtil = layui.ajaxUtil;
        var element = layui.element();
        var layedit = layui.layedit;

        var goods_content_editor = layedit.build('goods_detail_content_editor',{
            uploadImage:{url:'/admin/file/upload'}
        });

        var urls = {};
        urls.biz_goods_query = '/admin/goods/query-all';
        urls.biz_goods_save = '/admin/goods/save';
        urls.biz_goods_delete = '/admin/goods/delete';
        urls.biz_goods_leaders = '/admin/goods/leader-goods';
        urls.biz_goods_select_save = '/admin/goods/save-select';
        urls.biz_brand_query = '/admin/goods/brand-list';
        urls.biz_category_query = '/admin/goods/category-list';

        var controls = {};
        controls.biz_goods_list_panel = $('#biz_goods_list_panel');
        controls.biz_goods_edit_panel = $('#biz_goods_edit_panel');
        controls.biz_goods_select_panel = $('#biz_goods_select_panel');

        controls.brand_select = controls.biz_goods_edit_panel.find('select:eq(0)');
        controls.category_select = controls.biz_goods_edit_panel.find('select:eq(1)');
        controls.my_category_select = controls.biz_goods_edit_panel.find('select:eq(2)');
        var M = {};
        M.MODIFY_STATUS = false;
        M.DATA = null;

        var G_IMAGE = null;
        var G_DETAIL_IMAGES = [];


        function init() {
            bindEvent();
            loadGoodsData();
            loadLeaderGoodsData();
        }

        function bindEvent() {
            element.on('tab(goods_enable_filter)', function(data){
                var status = $(this).data('status');
                var args = {};

                args.IsEnable = status;

                refresh(args);
            });

            //自定义验证规则
            form.verify({
                price: [/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/, '请输入小数']

            });

            // 监听提交 - 自己创建商品
            form.on('submit(biz_goods_edit_confirm)', function (data) {
                var args = data.field;

                if (M.MODIFY_STATUS) {
                    args.Id = M.DATA.Id;
                }

                if (G_IMAGE) {
                    args.GoodsImgPath = G_IMAGE;
                }

                if (G_DETAIL_IMAGES.length > 0) {
                    args.ImgJson = JSON.stringify(G_DETAIL_IMAGES);
                }

                args.DetailContent = encodeURIComponent(layedit.getContent(goods_content_editor));

                ajaxUtil.doAjaxPost(urls.biz_goods_save, args).done(function (ret) {
                    commonUtil.toast(ret.msg);

                    if (ret.status == 0) {
                        controls.biz_goods_edit_panel.find('button:eq(0)').trigger('click');
                        refresh();
                    }
                });

                return false;
            });

            // 监听提交 - 选择上级商品创建
            controls.biz_goods_select_panel.find('button:eq(1)').bind('click',function(){
                var ids = $("#biz_goods_select_list_grid").jqGrid('getGridParam','selarrrow');

                var goods = [];
                $(ids).each(function (index, id){
                    var row = $("#biz_goods_select_list_grid").jqGrid('getRowData', id);
                    goods.push(row.Id);
                });

                ajaxUtil.doAjaxPost(urls.biz_goods_select_save,{goods:JSON.stringify(goods)}).done(function(ret){
                    commonUtil.toast(ret.msg);
                    if(ret.status == 0){
                        showListPanel();
                        refresh();
                    }
                });
            });

            // 点击增加
            controls.biz_goods_list_panel.find('button:eq(0)').bind('click', function () {
                var confirmLayer = layer.confirm('选择增加方式', {
                    btn: ['自己创建', '选择上级商品创建', '取消'] //按钮
                }, function () {
                    layer.close(confirmLayer);
                    showEditPanel();
                    $.when(getAllBrands(),getAllCategory(),getMyCategory()).done(function(retBrand,retCategory,retMyCategory){
                        if(retBrand.status == 0 && retCategory.status == 0 && retMyCategory.status == 0) {
                            controls.brand_select.empty();
                            controls.category_select.empty();
                            controls.my_category_select.empty();

                            layui.each(retBrand.data.rows,function(i,o){
                                controls.brand_select.append('<option value="' +o.Id+ '">' + o.BrandName +'</option>')
                            });
                            layui.each(retCategory.data.rows,function(i,o){
                                controls.category_select.append('<option value="' +o.Id+ '">' + o.CategoryName +'</option>')
                            });

                            controls.my_category_select.append('<option value="">请选择</option>');
                            layui.each(retMyCategory.data.rows,function(i,o){
                                controls.my_category_select.append('<option value="' +o.Id+ '">' + o.CategoryName +'</option>')
                            });

                            form.render();
                        }
                    })
                }, function () {
                    showSelectPanel();
                    refreshSelect();
                }, function () {
                });
            });

            // 点击返回
            controls.biz_goods_edit_panel.find('button:eq(0)').bind('click', function () {
                controls.biz_goods_edit_panel.find('button:eq(-1)').trigger('click');
                showListPanel();
                M.MODIFY_STATUS = false;
                M.DATA = null;
                G_IMAGE = null;
                G_DETAIL_IMAGES = [];
                $('.goods-detail-main:eq(0)').empty();
                $('#GoodsImage').attr('src', '');
            });

            // 选择上级商品返回
            controls.biz_goods_select_panel.find('button:eq(0)').bind('click', function () {
                showListPanel();
            });

            // 重置功能
            controls.biz_goods_edit_panel.find('button:eq(-1)').bind('click', function () {
                G_IMAGE = null;
                G_DETAIL_IMAGES = [];
                $('.goods-detail-main:eq(0)').empty();
                $('#GoodsImage').attr('src', '');
                $('#goods_detail_content_editor').val('');
                goods_content_editor = layedit.build('goods_detail_content_editor',{
                    uploadImage:{url:'/admin/file/upload'}
                });
            });

            // 修改
            $("#biz_goods_list_grid").on({
                'click': function () {
                    var data = JSON.parse(decodeURIComponent($(this).data('goods')));

                    showEditPanel();
                    controls.biz_goods_edit_panel.find('input:eq(0)').val(data.GoodsTitle);
                    controls.biz_goods_edit_panel.find('input:eq(1)').val(data.GoodsShortTitle);
                    controls.biz_goods_edit_panel.find('input:eq(2)').val(data.GoodsOriginalPrice);
                    controls.biz_goods_edit_panel.find('input:eq(3)').val(data.GoodsSalePrice);
                    controls.biz_goods_edit_panel.find('input:eq(4)').val(data.GoodsSupplyPrice);
                    controls.biz_goods_edit_panel.find('input:eq(5)').val(data.LimitCount);
                    controls.biz_goods_edit_panel.find('input:eq(6)').val(data.MaxCount);

                    $('#goods_detail_content_editor').val(decodeURIComponent(data.DetailContent));
                    goods_content_editor = layedit.build('goods_detail_content_editor',{
                        uploadImage:{url:'/admin/file/upload'}
                    });

                    if (data.GoodsImgPath) {
                        G_IMAGE = data.GoodsImgPath;
                        $('#GoodsImage').attr('src', G_IMAGE);
                    }

                    if (data.ImgJson) {
                        G_DETAIL_IMAGES = JSON.parse(data.ImgJson);

                        layui.each(G_DETAIL_IMAGES, function (i, o) {
                            var _dom =
                                '<div class="goods-detail-item">' +
                                '        <img src="' + o + '">' +
                                '        <span><i class="layui-icon">&#xe640;</i></span>' +
                                '</div>';

                            $('.goods-detail-main:eq(0)').append(_dom);
                        });
                    }

                    M.MODIFY_STATUS = true;
                    M.DATA = data;

                    $.when(getAllBrands(),getAllCategory(),getMyCategory()).done(function(retBrand,retCategory,retMyCategory){
                        if(retBrand.status == 0 && retCategory.status == 0 && retMyCategory.status == 0) {
                            controls.brand_select.empty();
                            controls.category_select.empty();
                            controls.my_category_select.empty();

                            layui.each(retBrand.data.rows,function(i,o){
                                controls.brand_select.append('<option value="' +o.Id+ '">' + o.BrandName +'</option>')
                            });
                            layui.each(retCategory.data.rows,function(i,o){
                                controls.category_select.append('<option value="' +o.Id+ '">' + o.CategoryName +'</option>')
                            });

                            controls.my_category_select.append('<option value="">请选择</option>');

                            layui.each(retMyCategory.data.rows,function(i,o){
                                controls.my_category_select.append('<option value="' +o.Id+ '">' + o.CategoryName +'</option>')
                            });

                            controls.brand_select.val(data.BrandId);
                            controls.category_select.val(data.CategoryId);
                            controls.my_category_select.val(data.MyCategoryId);
                            form.render();
                        }
                    })
                }
            }, '.biz-goods-modify');

            // 上下架
            $("#biz_goods_list_grid").on({
                'click': function () {
                    var data = JSON.parse(decodeURIComponent($(this).data('goods')));

                    var args = {};

                    args.Id = data.Id;

                    if(data.IsEnable == 0) {
                        args.IsEnable = 1;
                    } else {
                        args.IsEnable = 0
                    }

                    ajaxUtil.doAjaxPost(urls.biz_goods_save, args).done(function (ret) {
                        commonUtil.toast(ret.msg);

                        if (ret.status == 0) {
                            controls.biz_goods_edit_panel.find('button:eq(0)').trigger('click');
                            refresh();
                        }
                    });
                }
            }, '.biz-goods-enable');


            // 删除
            $("#biz_goods_list_grid").on({
                'click': function () {
                    var data = JSON.parse(decodeURIComponent($(this).data('goods')));

                    var confirmLayer = layer.confirm('确定删除？', {
                        btn: ['确定', '取消'] //按钮
                    }, function () {
                        layer.close(confirmLayer);
                        ajaxUtil.doAjaxGet(urls.biz_goods_delete, {'id': data.Id}).done(function (ret) {
                            commonUtil.toast(ret.msg);
                            if (ret.status == 0) {
                                refresh();
                            }
                        });
                    }, function () {
                    });
                }
            }, '.biz-goods-delete');

            layui.upload({
                url: '/admin/file/upload',
                elem: '#GoodsImageBtn',
                success: function (res) {
                    if (res.code == 0) {
                        $('#GoodsImage').attr('src', res.data.src);
                        G_IMAGE = res.data.src;
                    }
                }
            });

            layui.upload({
                url: '/admin/file/upload',
                elem: '#GoodsDetailImages',
                success: function (res) {
                    if (res.code == 0) {
                        var _dom =
                            '<div class="goods-detail-item">' +
                            '        <img src="' + res.data.src + '">' +
                            '        <span><i class="layui-icon">&#xe640;</i></span>' +
                            '</div>';

                        $('.goods-detail-main:eq(0)').append(_dom);

                        G_DETAIL_IMAGES.push(res.data.src);
                    }
                }
            });

            // 删除详情图片
            $('.goods-detail-main').on({
                'click': function () {
                    var _self = this;
                    for (var i = 0; i < G_DETAIL_IMAGES.length; i++) {
                        if (G_DETAIL_IMAGES[i] == $(_self).prev().attr('src')) {
                            G_DETAIL_IMAGES.splice(i, 1);
                            break;
                        }
                    }

                    $(_self).parent().remove();
                }
            }, 'span');


        }

        function showEditPanel() {
            controls.biz_goods_edit_panel.show();
            controls.biz_goods_list_panel.hide();
            controls.biz_goods_select_panel.hide();
        }

        function showListPanel() {
            controls.biz_goods_edit_panel.hide();
            controls.biz_goods_list_panel.show();
            controls.biz_goods_select_panel.hide();
        }

        function showSelectPanel() {
            controls.biz_goods_edit_panel.hide();
            controls.biz_goods_list_panel.hide();
            controls.biz_goods_select_panel.show();
        }

        function refresh(args) {
            var page = $("#biz_goods_list_grid").getGridParam('page'); // current page
            var rows = $("#biz_goods_list_grid").getGridParam('rows'); // rows
            $("#biz_goods_list_grid").jqGrid('setGridParam', {
                page: page,
                rows: rows,
                postData:args
            }).trigger("reloadGrid")
        }

        function getAllBrands(){
            var def = $.Deferred();
            ajaxUtil.doAjaxGet(urls.biz_brand_query,{page:1,rows:1000}).done(function(ret){
                def.resolve(ret);
            });

            return def.promise();
        }

        function getAllCategory(){
            var def = $.Deferred();
            ajaxUtil.doAjaxGet(urls.biz_category_query,{page:1,rows:1000}).done(function(ret){
                def.resolve(ret);
            });

            return def.promise();
        }

        function getMyCategory(){
            var def = $.Deferred();
            ajaxUtil.doAjaxGet(urls.biz_category_query,{page:1,rows:1000,type:1}).done(function(ret){
                def.resolve(ret);
            });

            return def.promise();
        }


        function refreshSelect() {
            var page = $("#biz_goods_select_list_grid").getGridParam('page'); // current page
            var rows = $("#biz_goods_select_list_grid").getGridParam('rows'); // rows
            $("#biz_goods_select_list_grid").jqGrid('setGridParam', {
                page: page,
                rows: rows
            }).trigger("reloadGrid")
        }

        function loadGoodsData() {
            $("#biz_goods_list_grid").jqGrid({
                colModel: [
                    {label: '商品名称', name: 'GoodsTitle', align: 'center'},
                    {label: '商品简称', name: 'GoodsShortTitle', align: 'center'},
                    {label: '商品原价', name: 'GoodsOriginalPrice', align: 'center'},
                    {label: '商品售价', name: 'GoodsSalePrice', align: 'center'},
                    {label: '商品供货价', name: 'GoodsSupplyPrice', align: 'center'},
                    {
                        label: '限量', name: 'LimitCount', align: 'center', formatter: function (cell, option, row) {
                        return row.LimitCount + '~' + row.MaxCount;
                    }
                    },
                    {
                        label: '创建者', name: 'OwnerId', align: 'center', formatter: function (cell, option, row) {
                        return commonUtil.filter(row.shop.MemberName);
                    }
                    },
                    {
                        label: '创建时间',
                        name: 'CreateTime',
                        align: 'center',
                        formatter: function (cellValue, options, rowObject) {
                            return commonUtil.getTimeString(cellValue);
                        }
                    },
                    {
                        label: '操作', align: 'center', formatter: function (cellValue, options, rowObject) {
                        var _dom = '';

                        if(rowObject.IsEnable ==0) {
                            _dom += '<span data-goods="' + encodeURIComponent(JSON.stringify(rowObject)) + '" href="javascript:;" class="my-grid-a-span biz-goods-enable">下架</span>&nbsp;&nbsp;'
                        } else {
                            _dom += '<span data-goods="' + encodeURIComponent(JSON.stringify(rowObject)) + '" href="javascript:;" class="my-grid-a-span biz-goods-enable">上架</span>&nbsp;&nbsp;'
                        }


                        _dom += '<span data-goods="' + encodeURIComponent(JSON.stringify(rowObject)) + '" href="javascript:;" class="my-grid-a-span biz-goods-modify">修改</span>&nbsp;&nbsp;<span data-goods="' + encodeURIComponent(JSON.stringify(rowObject)) + '" href="javascript:;" class="my-grid-a-span biz-goods-delete">删除</span>';

                        return _dom;
                    }
                    }
                ],
                datatype: 'json',
                url: urls.biz_goods_query,
                rowNum: 10,
                rowList: [10, 20, 30],
                viewrecords: true, // show the current page, data rang and total records on the toolbar
                height: true,
                fitColumns: true,
                width: true,
                autowidth: true,
                shrinkToFit: true,
                ajaxGridOptions: {
                    dataFilter: function (ret) {
                        var retObj = JSON.parse(ret);
                        if (retObj.status == 0) {
                            return JSON.stringify(retObj.data);
                        } else {
                            commonUtil.toast(retObj.msg);
                        }
                    }
                },
                pager: "#biz_goods_list_grid_pager"
            });

            // 初始化宽宽，用于自适应宽度
            $("#biz_goods_list_grid").setGridWidth($("#admin-tab-container").width() - 10, true);
        }

        function loadLeaderGoodsData() {
            $("#biz_goods_select_list_grid").jqGrid({
                colModel: [
                    {label: 'Id', name: 'Id', align: 'center',hidden:true},
                    {label: 'GoodsId', name: 'GoodsId', align: 'center',hidden:true},
                    {label: '商品名称', name: 'GoodsTitle', align: 'center'},
                    {label: '商品简称', name: 'GoodsShortTitle', align: 'center'},
                    {label: '商品原价', name: 'GoodsOriginalPrice', align: 'center'},
                    {label: '商品售价', name: 'GoodsSalePrice', align: 'center'},
                    {label: '商品供货价', name: 'GoodsSupplyPrice', align: 'center'},
                    {
                        label: '限量', name: 'LimitCount', align: 'center', formatter: function (cell, option, row) {
                        return row.LimitCount + '~' + row.MaxCount;
                    }
                    },
                    {
                        label: '创建者', name: 'OwnerId', align: 'center', formatter: function (cell, option, row) {
                        return commonUtil.filter(row.shop.MemberName);
                    }
                    },
                    {
                        label: '创建时间',
                        name: 'CreateTime',
                        align: 'center',
                        formatter: function (cellValue, options, rowObject) {
                            return commonUtil.getTimeString(cellValue);
                        }
                    }
                ],
                datatype: 'json',
                url: urls.biz_goods_leaders,
                rowNum: 10,
                rowList: [10, 20, 30],
                viewrecords: true, // show the current page, data rang and total records on the toolbar
                height: true,
                fitColumns: true,
                width: true,
                autowidth: true,
                shrinkToFit: true,
                multiselect: true,
                ajaxGridOptions: {
                    dataFilter: function (ret) {
                        var retObj = JSON.parse(ret);
                        if (retObj.status == 0) {
                            return JSON.stringify(retObj.data);
                        } else {
                            commonUtil.toast(retObj.msg);
                        }
                    }
                },
                pager: "#biz_goods_select_list_grid_pager"
            });

            // 初始化宽宽，用于自适应宽度
            $("#biz_goods_select_list_grid").setGridWidth($("#admin-tab-container").width() - 10, true);
        }


        (function () {
            init();
        })();
    });
</script>